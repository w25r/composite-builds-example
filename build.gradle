task build {
    description 'Runs build on all included builds'
    group 'Composite Build'

    gradle.includedBuilds.each { includedBuild ->
        dependsOn includedBuild.task(':build')
    }
}

task hello {
    description 'Calls the "hello" tasks created via plugin in the library and application builds'
    group 'Composite Build'

    dependsOn gradle.includedBuild('library').task(':hello')
    dependsOn gradle.includedBuild('application').task(':hello')
}

task run {
    description 'Runs the application'
    group 'Composite Build'

    dependsOn gradle.includedBuild('application').task(':run')
}